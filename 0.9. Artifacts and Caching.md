Hereâ€™s a complete explanation of **Artifacts and Caching** in GitHub Actions, with detailed **interview questions** and **real-world scenarios** to help you master this topic:

---

## âœ… **9. Artifacts and Caching â€“ Detailed Notes**

---

### ðŸ”¹ **Artifacts â€“ Sharing Files Between Jobs**

Artifacts let you **store and share build outputs** or logs across different jobs or for post-build download.

#### âœ… Example: Uploading a log file

```yaml
- uses: actions/upload-artifact@v3
  with:
    name: build-log
    path: log.txt
```

#### âœ… Example: Downloading artifact in another job

```yaml
- uses: actions/download-artifact@v3
  with:
    name: build-log
```

âœ… Useful for:

* Passing test results from one job to another
* Archiving build logs or compiled binaries
* Debugging failed builds

---

### ðŸ”¹ **Caching â€“ Save Dependencies Between Runs**

Caching stores commonly reused files like **npm modules**, **pip packages**, or **Gradle caches** to speed up workflows.

#### âœ… Example: Caching NPM dependencies

```yaml
- uses: actions/cache@v3
  with:
    path: ~/.npm
    key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
```

* `path:` â†’ Directory to cache
* `key:` â†’ Unique string identifying the cache (usually hash of lock file)

âœ… Benefits:

* Saves time by avoiding repeated downloads
* Reduces network usage
* Increases workflow speed

---

### ðŸ”¹ Key Differences:

| Feature      | Artifacts                  | Cache                                        |
| ------------ | -------------------------- | -------------------------------------------- |
| Purpose      | Share files between jobs   | Speed up builds across runs                  |
| Storage Time | Available for 90 days      | Saved until manually evicted                 |
| Trigger      | Always uploaded explicitly | Automatically restored if key matches        |
| Use Case     | Build logs, test reports   | Dependency directories (e.g., `.npm`, `.m2`) |

---

## ðŸŽ¯ **Interview Questions with Answers**

---

### 1. **What is the purpose of artifacts in GitHub Actions?**

Artifacts are used to **share files between jobs** or save them for later download (e.g., logs, test reports, compiled binaries).

---

### 2. **What is the difference between caching and uploading an artifact?**

* **Artifacts** are for sharing files **between jobs** or for downloading after the workflow.
* **Cache** is for reusing files like dependencies **across workflow runs** to improve performance.

---

### 3. **When would you use the `actions/cache` action?**

When you want to cache dependency folders (like `.npm`, `.m2`, `~/.cache/pip`) to reduce install time in subsequent runs.

---

### 4. **How is a cache restored in GitHub Actions?**

It is automatically restored based on the `key` and optional `restore-keys`. If no exact match is found, it tries partial matches.

---

### 5. **How can you pass a test result from one job to another?**

Use `upload-artifact` in the first job and `download-artifact` in the next job.

---

## ðŸ§© **Scenario-Based Questions with Answers**

---

### ðŸ”¹ **Scenario 1:**

**Q:** Your tests generate a `report.html` file. You want to view it after the workflow finishes. What do you do?

**A:**

```yaml
- uses: actions/upload-artifact@v3
  with:
    name: test-report
    path: report.html
```

Then download from the GitHub UI after the workflow finishes.

---

### ðŸ”¹ **Scenario 2:**

**Q:** Your workflow installs dependencies via `npm install`, which takes time. How do you speed it up?

**A:**
Use a cache:

```yaml
- uses: actions/cache@v3
  with:
    path: ~/.npm
    key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
```

---

### ðŸ”¹ **Scenario 3:**

**Q:** You want to pass a compiled `.jar` file from the `build` job to the `deploy` job. Whatâ€™s your approach?

**A:**
In `build` job:

```yaml
- uses: actions/upload-artifact@v3
  with:
    name: app-jar
    path: build/myapp.jar
```

In `deploy` job:

```yaml
- uses: actions/download-artifact@v3
  with:
    name: app-jar
```

---

### ðŸ”¹ **Scenario 4:**

**Q:** You change your `package-lock.json` file. Will the cache be reused?

**A:**
No. If the `hashFiles('**/package-lock.json')` value changes, GitHub treats it as a new cache key and doesnâ€™t restore the old one.

---

Let me know if you want a cheat sheet of artifact/cache best practices or need examples for Maven, Python, or Docker caching!
